###########################################################################################################################################################
############################################################################################################################################################
#####################  					D A T A B A S E: imdb | C O L L E C T I O N: people                            #####################
############################################################################################################################################################
############################################################################################################################################################

//1.- Buscar las personas que sólo han actuado (no dirigido) (1909)
-------------------------------------------------------------------------------------------------------------------------------------------------------------
> db.people.find({"hasActed": {$exists: true}, "hasDirected": {$exists: false}})

//2.- Buscar las personas que sólo han dirigido (no actuado) (341)
-------------------------------------------------------------------------------------------------------------------------------------------------------------
> db.people.find({"hasActed": {$exists: false}, "hasDirected": {$exists: true}})

//3.- Buscar las personas que han actuado y dirigido (20)
-------------------------------------------------------------------------------------------------------------------------------------------------------------
> db.people.find({"hasActed": {$exists: true}, "hasDirected": {$exists: true}})

//4.- Buscar las personas que ni han actuado ni dirigido (29)
-------------------------------------------------------------------------------------------------------------------------------------------------------------
> db.people.find({"hasActed": {$exists: false}, "hasDirected": {$exists: false}})

############################################################################################################################################################
############################################################################################################################################################
#####################  					D A T A B A S E: edx   | C O L L E C T I O N: bios                             #####################
############################################################################################################################################################
############################################################################################################################################################

//1.- Buscar las personas con premios otorgados en el año 2001 (3)
-------------------------------------------------------------------------------------------------------------------------------------------------------------
> db.bios.find({"awards.year": 2001})

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

//2.- Buscar las personas que hayan obtenido el premio 'Turing Award' (5)
-------------------------------------------------------------------------------------------------------------------------------------------------------------
> db.bios.find({"awards.award": "Turing Award"})

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

//3.- Buscar las personas que haya obtenido un premio del tipo 'National Medal of' (4)
-------------------------------------------------------------------------------------------------------------------------------------------------------------

> db.bios.find({"awards.award": /^National Medal of/i})


############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

//4.- Buscar las personas con fecha de nacimiento de la que no conste su fecha de defunción (3)
-------------------------------------------------------------------------------------------------------------------------------------------------------------

> db.bios.find({"birthYear": {"$exists": true}, "deathYear": {"$exists": false}})

> db.bios.find({"$and": [{"birthYear": {"$exists": true}},{"deathYear": {"$exists": false}}]})

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

//5.- Buscar las personas de la colección bios que destaquen en el terreno de OOP (2)
-------------------------------------------------------------------------------------------------------------------------------------------------------------

> db.bios.find({"contribs": "OOP"})

//6.- Buscar las personas de la colección bios que destaquen en el terreno de Java, Ruby o Python (3)
-------------------------------------------------------------------------------------------------------------------------------------------------------------

> db.bios.find({"contribs": {"$in": ["Java", "Ruby", "Python"]}})

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

//7.- Buscar las personas de la colección bios que destaquen en el terreno de OOP y Simula (2)
-------------------------------------------------------------------------------------------------------------------------------------------------------------

> db.bios.find({"contribs": {"$all": ["OOP", "Simula"]}})

> db.bios.find({"$and": [{"contribs": "OOP"}, {"contribs": "Simula"}]})

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

//8.- Buscar las personas de la colección bios sin premios logrados (1)
-------------------------------------------------------------------------------------------------------------------------------------------------------------

> db.bios.find({"$or": [{"awards": {"$exists": false}}, {"awards": {"$size": 0}}]})

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

//9.- Buscar las personas de la colección bios con 1 premio conseguido (1)
-------------------------------------------------------------------------------------------------------------------------------------------------------------

> db.bios.find({"awards": {"$size": 1}})

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

//10.- Buscar las personas de la colección bios con 3 o más premios conseguidos (6)
-------------------------------------------------------------------------------------------------------------------------------------------------------------

> db.bios.find({"awards.2": {"$exists": true}})

############################################################################################################################################################
############################################################################################################################################################
############################################################################################################################################################

//11.- Buscar las personas de la colección bios con entre 2 y 4 premios conseguidos (8)
-------------------------------------------------------------------------------------------------------------------------------------------------------------

> db.bios.find({"$or": [
{"awards": {"$size": 2}}, 
{"awards": {"$size": 3}},
{"awards": {"$size": 4}}]})



> db.bios.find({"$and": [
{"awards.1": {"$exists": true}}, 
{"awards.4": {"$exists": false}}
]})

> db.bios.find({"awards.1": {"$exists": true}, "awards.4": {"$exists": false}})

############################################################################################################################################################
############################################################################################################################################################
#####################  					D A T A B A S E: edx   | C O L L E C T I O N: books                            #####################
############################################################################################################################################################
############################################################################################################################################################

//1.- Buscar todos los libros con precio superior a 100 USD (7)
-------------------------------------------------------------------------------------------------------------------------------------------------------------
> db.books.find({"price.msrp": {"$gt": 100}})

//2.- Buscar todos los libros publicados por "Martin Fowler" (4)
-------------------------------------------------------------------------------------------------------------------------------------------------------------
> db.books.find({"author": "Martin Fowler"})

//3.- Buscar los libros que tengan el tag 'programming', 'agile' y "java" (5)
-------------------------------------------------------------------------------------------------------------------------------------------------------------
> db.books.find({"tags": {"$all": ["programming", "agile", "java"]}})
> db.books.find({$and: [{"tags": "programming" }, {"tags":"java"}, {"tags":"agile"}] }).count()

//4.- Buscar aquellos libros que han sido escritos por Martin Fowler y Kent Beck (2)
-------------------------------------------------------------------------------------------------------------------------------------------------------------
> db.books.find({"author": {"$all": ["Martin Fowler", "Kent Beck"]}})
> db.books.find({$and: [{"author":"Martin Fowler"},{"author":"Kent Beck"}]})

//5.- Buscar los libros escritos por 3 autores (17)
-------------------------------------------------------------------------------------------------------------------------------------------------------------
> db.books.find({"author": {"$size": 3}})

> db.books.find({$and: [
 {"author.2":{$exists:true}}
,{"author.3" : {$exists : false}}]}).count()

//6.- Buscar los libros escritos por mas de un autor (106)
-------------------------------------------------------------------------------------------------------------------------------------------------------------
> db.books.find({"author": {"$not": {"$size": 1}}})

> db.books.find({"author.1": {"$exists": true}})



############################################################################################################################################################
############################################################################################################################################################
#####################  					D A T A B A S E: geo | C O L L E C T I O N: countries                          #####################
############################################################################################################################################################
############################################################################################################################################################

//1.- Buscar aquellos paises donde el español es lenguaje nativa (21)
-------------------------------------------------------------------------------------------------------------------------------------------------------------
> db.countries.find({"nativeLanguage": "spa"})


//2.- Buscar aquellos paises donde el español es lenguaje oficial (24)
-------------------------------------------------------------------------------------------------------------------------------------------------------------
> db.countries.find({"languages.spa": {"$exists": true}})

//3.- Mostrar aquellos paises donde sólo el español es lengua oficial (y no hay más)
-------------------------------------------------------------------------------------------------------------------------------------------------------------
> db.countries.find({"languages": {"spa": "Spanish"}})
